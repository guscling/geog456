<!DOCTYPE html>
<html>
<head>
    <title>Gastner-Newman Cartogram Example</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-cartogram/0.4.0/d3-cartogram.min.js"></script>
    <script src="./EU_migration_Data_simplified.js"></script>
</head>
<body>
    <svg width="800" height="600"></svg>

    <script>
        // Load GeoJSON data
        d3.json(migrationData).then(function(data) {
            // Process data to calculate cartogram transformation
            // For simplicity, let's assume each feature has a "value" property

            // Create D3 projection and path generator
            const projection = d3.geoMercator().fitSize([800, 600], data);
            const path = d3.geoPath().projection(projection);

            // Create Gastner-Newman cartogram layout
            const cartogramLayout = d3.cartogram()
                .projection(projection)
                .value(d => d.properties.GEOG456_Total_Data_2014_Positive); // Replace "value" with your data attribute

            // Generate Gastner-Newman cartogram
            const cartogramData = cartogramLayout(data);

            // Render distorted polygons
            d3.select("svg")
                .selectAll("path")
                .data(cartogramData.features)
                .enter()
                .append("path")
                .attr("d", path)
                .attr("fill", "steelblue"); // Adjust fill color as needed
        });
    </script>
</body>
</html>
